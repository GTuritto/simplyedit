<section id="vedor-save" class="vedor-dialog">
	<div class="vedor-dialog-body">
		<i class="fa fa-spinner fa-spin"></i>
		<div class="vedor-title">Saving...</div>
		<div class="vedor-message">Please wait...</div>
	</div>
</section>
<style type="text/css">
	#vedor-save {
		top: 50%;
		max-height: 80%;
		margin-top: -100px;

		left: 50%;
		width: 200px;
		max-width: 80%;
		margin-left: -100px;
	}
	#vedor-save .vedor-title {
		font-size: 20px;
		font-weight: bold;
		margin-bottom: 5px;
	}
	#vedor-save .vedor-message {
		font-size: 12px;
	}
	#vedor-save i {
		float: right;
		font-size: 24px;
	}
	#vedor-save .vedor-dialog-body {
		padding: 10px;
	}
	
	@media (max-width: 481px) {
		#vedor-save {
			top: 50%;
			max-height: 80%;
			margin-top: -100px;
			left: 50%;
			margin-left: -100px;
			width: 200px;
			max-width: 80%;
			bottom: auto;
			right: auto;
			max-width: 100%;
			max-height: 100%;
			height: auto;
		}
	}
</style>
<script>
	editor.plugins.save = {
		beforeSave : function() {
			document.querySelector("#vedor-save .vedor-message").innerHTML = "Storing your changes.";
			editor.plugins.dialog.open(document.getElementById('vedor-save'));
		},
		afterSave : function() {
			window.setTimeout(function() {
				document.querySelector("#vedor-save .vedor-message").innerHTML = "All changes saved.";
				window.setTimeout(function() {
					editor.plugins.dialog.close();
				}, 800);
			}, 300);
		}
	};

	editor.addAction("vedor-beforesave", editor.plugins.save.beforeSave);
	editor.addAction("vedor-aftersave", editor.plugins.save.afterSave);
</script>
